Импорт библиотеки:

import requests

requests: библиотека, которая позволяет делать HTTP-запросы для получения данных из интернета.

Функция получения курса обмена:

def get_exchange_rate(): try: response = requests.get("https://api.exchangerate-api.com/v4/latest/RUB") data = response.json() return data['rates']['USD'] except Exception as e: print("Ошибка при получении курса валют:", e) return None

Функция отправляет GET-запрос к API, чтобы получить актуальный курс для рубля. Если запрос успешен, ответ преобразуется из JSON в словарь Python, и извлекается курс для доллара. В случае ошибки (например, если API недоступен), выводится ошибка и возвращается значение None.

Функция конвертации рублей в доллары:

def convert_rub_to_usd(rubles, exchange_rate): return rubles * exchange_rate

Эта функция принимает количество рублей и текущий курс, затем умножает их, чтобы получить эквивалент в долларах.

Основная функция программы:

def main(): print("Добро пожаловать в конвертер валют!") exchange_rate = get_exchange_rate() if exchange_rate is None: print("Не удалось получить курс валют. Закрытие программы.") return

print(f"Актуальный курс: 1 RUB = {exchange_rate:.2f} USD")

Функция выводит приветственное сообщение и получает актуальный курс обмена, вызывая get_exchange_rate(). Если курс не был получен, программа сообщает об этом и завершает выполнение. В противном случае, выводится актуальный курс.

Цикл для ввода суммы и конвертации:

while True: try: rubles = float(input("Введите сумму в рублях (или 'exit' для выхода): ")) dollars = convert_rub_to_usd(rubles, exchange_rate) print(f"{rubles} RUB = {dollars:.2f} USD") except ValueError: print("Ввод завершен. Выход из программы.") break

Программа циклически запрашивает у пользователя сумму в рублях. Если пользователь вводит корректное число, сумма конвертируется в доллары с помощью convert_rub_to_usd(), и результат выводится на экран. Если пользователь вводит некорректное значение (например, текст), возникает ValueError, программа сообщает о завершении ввода и выходит из цикла.

Запуск основной функции:

if name == "main": main()
